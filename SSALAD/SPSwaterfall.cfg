@PART[SPSIonEngine]:NEEDS[Waterfall]:FOR[SPSTestMod]
{
  !MODULE[EngineLightEffect] {}
  !EFFECTS {}
  MODULE
  {
    name = ModuleWaterfallFX
    // This is a custom name
    moduleID = griddedFX
    // This links the effects to a given ModuleEngines if desired. If not, it will use the basic one.
    engineID = IonSPS

    // List out all controllers we want available
    // This controller scales with atmosphere depth
    CONTROLLER
    {
      name = atmosphereDepth
      linkedTo = atmosphere_density
    }
    // This controller scales with effective throttle
    CONTROLLER
    {
      name = throttle
      linkedTo = throttle
    }
    TEMPLATE
    {
      // This is the name of the template to use
      templateName = template-nfp-ion-gridded-xenon-1
      // This field allows you to override the parentTransform name in the EFFECTS contained in the template
      overrideParentTransform = IonThrust
      position = 0,0,0
      rotation = 0, 0, 0
      scale = 1, 1, 2
    }
  }
}